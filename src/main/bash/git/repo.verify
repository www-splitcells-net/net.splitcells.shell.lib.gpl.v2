#!/usr/bin/env bash
# SPDX-License-Identifier: GPL-2.0-only
# SPDX-FileCopyrightText: Contributors To The `net.splitcells.*` Projects
# Check if current folder is root of git repository.
if [[ $(git rev-parse --show-toplevel 2>/dev/null) = "$PWD" ]]; then
  # Check for correctness of git repository metadata and only print errors.
  # --no-progress not used, as otherwise it is harder to understand without text output, if repo was really checked.
	git fsck --full --no-dangling
else
	exit 1
fi
